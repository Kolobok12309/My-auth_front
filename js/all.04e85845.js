(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["all"],{"28cc":function(e,t,n){"use strict";var a=n("7a23"),o=Object(a["createTextVNode"])(" Фильтр пользователей "),r={class:"p-grid"},l={class:"p-col-fixed"},c={class:"p-input-icon-left"},i=Object(a["createVNode"])("i",{class:"pi pi-search"},null,-1),u={class:"p-col-fixed"},d={class:"p-col-fixed"},p={key:0,class:"p-col-fixed"},s={class:"p-col-fixed"};function m(e,t,n,m,b,f){var g=Object(a["resolveComponent"])("InputText"),j=Object(a["resolveComponent"])("RolePicker"),O=Object(a["resolveComponent"])("GroupPicker"),v=Object(a["resolveComponent"])("Button"),h=Object(a["resolveComponent"])("Card");return Object(a["openBlock"])(),Object(a["createBlock"])(h,null,{title:Object(a["withCtx"])((function(){return[o]})),content:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("form",{class:"user-filter",onSubmit:t[5]||(t[5]=Object(a["withModifiers"])((function(){return e.onSubmit&&e.onSubmit.apply(e,arguments)}),["prevent"]))},[Object(a["createVNode"])("div",r,[Object(a["createVNode"])("div",l,[Object(a["createVNode"])("span",c,[i,Object(a["createVNode"])(g,{modelValue:e.compUsername,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.compUsername=t}),disabled:e.pending,type:"text",placeholder:"Имя пользователя"},null,8,["modelValue","disabled"])])]),Object(a["createVNode"])("div",u,[Object(a["createVNode"])(g,{modelValue:e.compEmail,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.compEmail=t}),disabled:e.pending,type:"text",placeholder:"E-mail"},null,8,["modelValue","disabled"])]),Object(a["createVNode"])("div",d,[Object(a["createVNode"])(j,{modelValue:e.compRole,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.compRole=t}),disabled:e.pending,showClear:""},null,8,["modelValue","disabled"])]),e.hideGroup?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])("div",p,[Object(a["createVNode"])(O,{modelValue:e.compGroupId,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.compGroupId=t}),disabled:e.pending},null,8,["modelValue","disabled"])])),Object(a["createVNode"])("div",s,[Object(a["createVNode"])(v,{type:"submit",label:"Поиск",icon:"pi pi-search"})])])],32)]})),_:1})}n("a9e3");var b=n("5530"),f=n("a581"),g=n("a7ca"),j=n.n(g),O=n("a84a"),v=n.n(O),h=n("6549"),C=n.n(h),V=n("a871"),k=n("5c09"),N={Card:j.a,InputText:v.a,Button:C.a,GroupPicker:V["a"],RolePicker:k["a"]},x={name:"UserFilter",components:N,props:{pending:{type:Boolean,default:!1},hideGroup:{type:Boolean,default:!1},username:{type:String,default:""},email:{type:String,default:""},role:{type:Number,default:null},groupId:{type:Number,default:null}},emits:["submit","update:username","update:email","update:role","update:groupId"],computed:Object(b["a"])({},Object(f["a"])(["username","email","role","groupId"])),methods:{onSubmit:function(){this.$emit("submit")}}};x.render=m;t["a"]=x},a037:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),o={class:"all-page p-grid p-mx-0"},r={class:"p-col-12 p-xl-8 p-offset-0 p-xl-offset-2"};function l(e,t,n,l,c,i){var u=Object(a["resolveComponent"])("Menubar"),d=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[Object(a["createVNode"])("div",r,[Object(a["createVNode"])(u,{model:e.toolbarItems,class:"p-mb-3"},null,8,["model"]),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])((function(t){var n=t.Component;return[(Object(a["openBlock"])(),Object(a["createBlock"])(a["KeepAlive"],{max:"3"},[(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(n),{key:e.$route.fullPath}))],1024))]})),_:1})])])}var c=n("a0cd"),i=n.n(c),u={name:"AllPage",components:{Menubar:i.a},computed:{toolbarItems:function(){return[{label:"Задачи",icon:"pi pi-list",to:"/all/tasks"},{label:"Отделы",icon:"pi pi-folder",to:"/all/groups"},{label:"Участники",icon:"pi pi-users",to:"/all/users"}]}}};u.render=l;t["default"]=u},bcdc:function(e,t,n){"use strict";n.r(t);n("4de4");var a=n("7a23");function o(e,t,n,o,r,l){var c=Object(a["resolveComponent"])("UserFilter"),i=Object(a["resolveComponent"])("UsersTable");return Object(a["openBlock"])(),Object(a["createBlock"])("div",null,[Object(a["createVNode"])(c,{username:e.filter.username,"onUpdate:username":t[1]||(t[1]=function(t){return e.filter.username=t}),email:e.filter.email,"onUpdate:email":t[2]||(t[2]=function(t){return e.filter.email=t}),role:e.filter.role,"onUpdate:role":t[3]||(t[3]=function(t){return e.filter.role=t}),groupId:e.filter.groupId,"onUpdate:groupId":t[4]||(t[4]=function(t){return e.filter.groupId=t}),pending:e.pending,onSubmit:e.onFilter},null,8,["username","email","role","groupId","pending","onSubmit"]),Object(a["createVNode"])(i,{title:"Список пользователей",users:e.users,pending:e.pending,page:e.meta&&e.meta.page,perPage:e.meta&&e.meta.perPage,totalCount:e.meta&&e.meta.totalCount,class:"p-mt-3",onPage:e.onChangePage},null,8,["users","pending","page","perPage","totalCount","onPage"])])}var r=n("3835"),l=n("5530"),c=(n("96cf"),n("1da1")),i=n("f31b"),u=n.n(i),d=n("28cc"),p=n("db58"),s=n("c24f"),m={name:"AllUsersPage",components:{UserFilter:d["a"],UsersTable:p["a"]},data:function(){return{pending:!0,users:[],meta:null,filter:{username:"",email:"",role:null,groupId:null}}},methods:{onFilter:function(){this.loadUsers()},onChangePage:function(e){this.loadUsers(e.page+1,e.rows)},loadUsers:function(){var e=arguments,t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,o,c,i,d,p,m,b,f,g;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:1,o=e.length>1&&void 0!==e[1]?e[1]:20,c=Object(l["a"])(Object(l["a"])({},t.filter),{},{page:a,perPage:o}),t.pending=!0,n.next=6,u()(Object(s["e"])(t.$axios,c));case 6:if(i=n.sent,d=Object(r["a"])(i,2),p=d[0],m=d[1],m=void 0===m?{}:m,b=m.items,f=m.meta,g=void 0===f?null:f,!p){n.next=16;break}return t.$toast.add({severity:"error",summary:p.serverError||"Ошибка загрузки пользователей",life:5e3}),t.pending=!1,n.abrupt("return");case 16:t.users=b,t.meta=g,t.pending=!1;case 19:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.loadUsers()}};m.render=o;t["default"]=m},db58:function(e,t,n){"use strict";var a=n("7a23"),o=Object(a["createVNode"])("div",{class:"p-text-center"}," Пользователи не найдены ",-1),r={key:1};function l(e,t,n,l,c,i){var u=Object(a["resolveComponent"])("Column"),d=Object(a["resolveComponent"])("RoleView"),p=Object(a["resolveComponent"])("GroupView"),s=Object(a["resolveComponent"])("DataTable");return Object(a["openBlock"])(),Object(a["createBlock"])(s,{title:e.title,items:e.users,pending:e.pending,page:e.page,perPage:e.perPage,totalCount:e.totalCount,onRowSelect:e.onRowSelect},{empty:Object(a["withCtx"])((function(){return[o]})),default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(u,{field:"id",header:"#"}),Object(a["createVNode"])(u,{field:"username",header:"Имя пользователя"}),Object(a["createVNode"])(u,{field:"email",header:"E-mail"}),Object(a["createVNode"])(u,{field:"role",header:"Роль",headerClass:"p-text-center",bodyClass:"p-text-center"},{body:Object(a["withCtx"])((function(e){var t=e.data.role;return[Object(a["createVNode"])(d,{value:t},null,8,["value"])]})),_:1}),Object(a["createVNode"])(u,{field:"group",header:"Отдел",headerClass:"p-text-center",bodyClass:"p-text-center"},{body:Object(a["withCtx"])((function(e){var t=e.data.group;return[t?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:0,group:t},null,8,["group"])):(Object(a["openBlock"])(),Object(a["createBlock"])("span",r," Не выбран "))]})),_:1})]})),_:1},8,["title","items","pending","page","perPage","totalCount","onRowSelect"])}n("a9e3");var c=n("c524"),i=n.n(c),u=n("0dd2"),d=n("3635"),p=n("be88"),s={Column:i.a,DataTable:u["a"],RoleView:d["a"],GroupView:p["a"]},m={name:"UsersTable",components:s,props:{title:{type:String,default:"Задачи"},users:{type:Array,default:function(){return[]}},pending:{type:Boolean,default:!1},page:{type:Number,default:1},perPage:{type:Number,default:20},totalCount:{type:Number,default:0}},methods:{onRowSelect:function(e){this.$router.push("/user/".concat(e.id,"/profile"))}}};m.render=l;t["a"]=m},e6fc:function(e,t,n){"use strict";n.r(t);n("4de4"),n("b0c0");var a=n("7a23");function o(e,t,n,o,r,l){var c=Object(a["resolveComponent"])("GroupFilter"),i=Object(a["resolveComponent"])("GroupsTable");return Object(a["openBlock"])(),Object(a["createBlock"])("div",null,[Object(a["createVNode"])(c,{pending:e.pending,name:e.filter.name,"onUpdate:name":t[1]||(t[1]=function(t){return e.filter.name=t}),onSubmit:e.onFilter},null,8,["pending","name","onSubmit"]),Object(a["createVNode"])(i,{title:"Список отделов",groups:e.groups,pending:e.pending,page:e.meta&&e.meta.page,perPage:e.meta&&e.meta.perPage,totalCount:e.meta&&e.meta.totalCount,class:"p-mt-3",onPage:e.onChangePage},null,8,["groups","pending","page","perPage","totalCount","onPage"])])}var r=n("3835"),l=n("5530"),c=(n("96cf"),n("1da1")),i=n("f31b"),u=n.n(i),d=Object(a["createTextVNode"])(" Фильтр отделов "),p={class:"p-grid"},s={class:"p-col-fixed"},m={class:"p-input-icon-left"},b=Object(a["createVNode"])("i",{class:"pi pi-search"},null,-1),f={class:"p-col-fixed"};function g(e,t,n,o,r,l){var c=Object(a["resolveComponent"])("InputText"),i=Object(a["resolveComponent"])("Button"),u=Object(a["resolveComponent"])("Card");return Object(a["openBlock"])(),Object(a["createBlock"])(u,null,{title:Object(a["withCtx"])((function(){return[d]})),content:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("form",{class:"user-filter",onSubmit:t[2]||(t[2]=Object(a["withModifiers"])((function(){return e.onSubmit&&e.onSubmit.apply(e,arguments)}),["prevent"]))},[Object(a["createVNode"])("div",p,[Object(a["createVNode"])("div",s,[Object(a["createVNode"])("span",m,[b,Object(a["createVNode"])(c,{modelValue:e.compName,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.compName=t}),disabled:e.pending,type:"text",placeholder:"Название отдела"},null,8,["modelValue","disabled"])])]),Object(a["createVNode"])("div",f,[Object(a["createVNode"])(i,{type:"submit",label:"Поиск",icon:"pi pi-search"})])])],32)]})),_:1})}var j=n("a581"),O=n("a7ca"),v=n.n(O),h=n("a84a"),C=n.n(h),V=n("6549"),k=n.n(V),N={Card:v.a,InputText:C.a,Button:k.a},x={name:"UserFilter",components:N,props:{pending:{type:Boolean,default:!1},name:{type:String,default:""}},emits:["submit","update:name"],computed:Object(l["a"])({},Object(j["a"])(["name"])),methods:{onSubmit:function(){this.$emit("submit")}}};x.render=g;var y=x,w=Object(a["createVNode"])("div",{class:"p-text-center"}," Отделы не найдены ",-1);function P(e,t,n,o,r,l){var c=Object(a["resolveComponent"])("Column"),i=Object(a["resolveComponent"])("DataTable");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{title:e.title,items:e.groups,pending:e.pending,page:e.page,perPage:e.perPage,totalCount:e.totalCount,onRowSelect:e.onRowSelect},{empty:Object(a["withCtx"])((function(){return[w]})),default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{field:"id",header:"#"}),Object(a["createVNode"])(c,{field:"name",header:"Название отдела"})]})),_:1},8,["title","items","pending","page","perPage","totalCount","onRowSelect"])}n("a9e3");var B=n("c524"),I=n.n(B),U=n("0dd2"),S={Column:I.a,DataTable:U["a"]},T={name:"GroupsTable",components:S,props:{title:{type:String,default:"Отделы"},groups:{type:Array,default:function(){return[]}},pending:{type:Boolean,default:!1},page:{type:Number,default:1},perPage:{type:Number,default:20},totalCount:{type:Number,default:0}},methods:{onRowSelect:function(e){this.$router.push("/group/".concat(e.id,"/tasks"))}}};T.render=P;var R=T,G=n("23ba"),F={name:"AllGroupsPage",components:{GroupFilter:y,GroupsTable:R},data:function(){return{pending:!0,groups:[],meta:null,filter:{name:""}}},methods:{onFilter:function(){this.loadGroups()},onChangePage:function(e){this.loadGroups(e.page+1,e.rows)},loadGroups:function(){var e=arguments,t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,o,c,i,d,p,s,m,b,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:1,o=e.length>1&&void 0!==e[1]?e[1]:20,c=Object(l["a"])(Object(l["a"])({},t.filter),{},{page:a,perPage:o}),t.pending=!0,n.next=6,u()(Object(G["d"])(t.$axios,c));case 6:if(i=n.sent,d=Object(r["a"])(i,2),p=d[0],s=d[1],s=void 0===s?{}:s,m=s.items,b=s.meta,f=void 0===b?null:b,!p){n.next=16;break}return t.$toast.add({severity:"error",summary:p.serverError||"Ошибка загрузки отделов",life:5e3}),t.pending=!1,n.abrupt("return");case 16:t.groups=m,t.meta=f,t.pending=!1;case 19:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.loadGroups()}};F.render=o;t["default"]=F},e8a6:function(e,t,n){"use strict";n.r(t);n("4de4");var a=n("7a23");function o(e,t,n,o,r,l){var c=Object(a["resolveComponent"])("TaskFilter"),i=Object(a["resolveComponent"])("TaskTable");return Object(a["openBlock"])(),Object(a["createBlock"])("div",null,[Object(a["createVNode"])(c,{pending:e.pending,title:e.filter.title,"onUpdate:title":t[1]||(t[1]=function(t){return e.filter.title=t}),status:e.filter.status,"onUpdate:status":t[2]||(t[2]=function(t){return e.filter.status=t}),groupId:e.filter.groupId,"onUpdate:groupId":t[3]||(t[3]=function(t){return e.filter.groupId=t}),userId:e.filter.userId,"onUpdate:userId":t[4]||(t[4]=function(t){return e.filter.userId=t}),onSubmit:e.onFilter},null,8,["pending","title","status","groupId","userId","onSubmit"]),Object(a["createVNode"])(i,{title:"Список задач",tasks:e.tasks,pending:e.pending,page:e.meta&&e.meta.page,perPage:e.meta&&e.meta.perPage,totalCount:e.meta&&e.meta.totalCount,class:"p-mt-3",onPage:e.onChangePage},null,8,["tasks","pending","page","perPage","totalCount","onPage"])])}var r=n("3835"),l=n("5530"),c=(n("96cf"),n("1da1")),i=n("f31b"),u=n.n(i),d=n("6925"),p=n("ca0e"),s=n("b199"),m={name:"AllTasksPage",components:{TaskFilter:d["a"],TaskTable:p["a"]},data:function(){return{pending:!0,tasks:[],meta:null,filter:{title:"",status:null,userId:null,groupId:null}}},methods:{onFilter:function(){this.loadTasks()},onChangePage:function(e){this.loadTasks(e.page+1,e.rows)},loadTasks:function(){var e=arguments,t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,o,c,i,d,p,m,b,f,g;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:1,o=e.length>1&&void 0!==e[1]?e[1]:20,c=Object(l["a"])(Object(l["a"])({},t.filter),{},{page:a,perPage:o}),t.pending=!0,n.next=6,u()(Object(s["e"])(t.$axios,c));case 6:if(i=n.sent,d=Object(r["a"])(i,2),p=d[0],m=d[1],m=void 0===m?{}:m,b=m.items,f=m.meta,g=void 0===f?null:f,!p){n.next=16;break}return t.$toast.add({severity:"error",summary:p.serverError||"Ошибка загрузки задач",life:5e3}),t.pending=!1,n.abrupt("return");case 16:t.tasks=b,t.meta=g,t.pending=!1;case 19:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.loadTasks()}};m.render=o;t["default"]=m}}]);
//# sourceMappingURL=all.04e85845.js.map