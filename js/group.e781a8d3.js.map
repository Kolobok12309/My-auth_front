{"version":3,"sources":["webpack:///./src/pages/group/users/index.vue","webpack:///./src/components/user/filter/index.vue","webpack:///./src/components/user/filter/components.js","webpack:///./src/components/user/filter/index.js","webpack:///./src/components/user/filter/index.vue?2cf1","webpack:///./src/components/user/table/index.vue","webpack:///./src/components/user/table/components.js","webpack:///./src/components/user/table/index.js","webpack:///./src/components/user/table/index.vue?bde2","webpack:///./src/pages/group/users/index.js","webpack:///./src/pages/group/users/index.vue?85a1","webpack:///./src/pages/group/index.vue","webpack:///./src/pages/group/components.js","webpack:///./src/pages/group/index.js","webpack:///./src/pages/group/index.vue?0a43","webpack:///./src/pages/group/tasks/index.vue","webpack:///./src/pages/group/tasks/index.js","webpack:///./src/pages/group/tasks/index.vue?543a","webpack:///./src/pages/group/index.styl?5741"],"names":["username","filter","email","role","pending","groupId","hideGroup","onFilter","title","users","page","meta","perPage","totalCount","class","onChangePage","content","onSubmit","compUsername","disabled","type","placeholder","compEmail","compRole","showClear","compGroupId","label","icon","Card","InputText","Button","GroupPicker","RolePicker","name","components","props","Boolean","default","String","Number","emits","computed","mapSyncProps","methods","this","$emit","render","items","onRowSelect","empty","field","header","headerClass","bodyClass","body","value","group","Column","DataTable","RoleView","GroupView","Array","user","$router","push","id","UserFilter","UsersTable","Object","required","data","watch","handler","newVal","loadUsers","immediate","event","rows","query","flatry","getUsers","$axios","err","$toast","add","severity","summary","serverError","life","isDirector","isAdmin","toggleEdit","form","isEdit","model","toolbarItems","Component","max","key","$route","fullPath","Divider","Menubar","SkeletonHelper","SpinnerHelper","mapGetters","to","resetForm","updateGroup","beforeRouteEnter","from","next","params","getGroup","axiosInstance","console","error","vm","beforeRouteUpdate","__scopeId","status","userId","tasks","TaskFilter","TaskTable","loadTasks","getTasks"],"mappings":"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","file":"js/group.e781a8d3.js","sourcesContent":["<template>\n  <div>\n    <UserFilter\n      v-model:username=\"filter.username\"\n      v-model:email=\"filter.email\"\n      v-model:role=\"filter.role\"\n      :pending=\"pending\"\n      :groupId=\"filter.groupId\"\n      hideGroup\n      @submit=\"onFilter\"\n    />\n\n    <UsersTable\n      title=\"Пользователи отдела\"\n      :users=\"users\"\n      :pending=\"pending\"\n      :page=\"meta && meta.page\"\n      :perPage=\"meta && meta.perPage\"\n      :totalCount=\"meta && meta.totalCount\"\n      class=\"p-mt-3\"\n      @page=\"onChangePage\"\n    />\n  </div>\n</template>\n\n<script src=\"./index.js\"></script>\n","<template>\n  <Card>\n    <template #title>\n      Фильтр пользователей\n    </template>\n\n    <template #content>\n      <form\n        class=\"user-filter\"\n        @submit.prevent=\"onSubmit\"\n      >\n        <div class=\"p-grid\">\n          <div class=\"p-col-fixed\">\n            <span class=\"p-input-icon-left\">\n              <i class=\"pi pi-search\" />\n\n              <InputText\n                v-model=\"compUsername\"\n                :disabled=\"pending\"\n                type=\"text\"\n                placeholder=\"Имя пользователя\"\n              />\n            </span>\n          </div>\n\n          <div class=\"p-col-fixed\">\n            <InputText\n              v-model=\"compEmail\"\n              :disabled=\"pending\"\n              type=\"text\"\n              placeholder=\"E-mail\"\n            />\n          </div>\n\n          <div class=\"p-col-fixed\">\n            <RolePicker\n              v-model=\"compRole\"\n              :disabled=\"pending\"\n              showClear\n            />\n          </div>\n\n          <div\n            v-if=\"!hideGroup\"\n            class=\"p-col-fixed\"\n          >\n            <GroupPicker\n              v-model=\"compGroupId\"\n              :disabled=\"pending\"\n            />\n          </div>\n\n          <div class=\"p-col-fixed\">\n            <Button\n              type=\"submit\"\n              label=\"Поиск\"\n              icon=\"pi pi-search\"\n            />\n          </div>\n        </div>\n      </form>\n    </template>\n  </Card>\n</template>\n\n<script src=\"./index.js\"></script>\n","import Card from 'primevue/card';\nimport InputText from 'primevue/inputtext';\nimport Button from 'primevue/button';\n\nimport GroupPicker from '@/components/group/picker';\nimport RolePicker from '@/components/role/picker';\n\nexport default {\n  Card,\n  InputText,\n  Button,\n  GroupPicker,\n  RolePicker,\n};\n","import mapSyncProps from '@/utils/map-sync-props';\n\nimport components from './components';\n\nexport default {\n  name: 'UserFilter',\n\n  components,\n\n  props: {\n    pending: {\n      type: Boolean,\n      default: false,\n    },\n\n    hideGroup: {\n      type: Boolean,\n      default: false,\n    },\n\n    // Filter\n    username: {\n      type: String,\n      default: '',\n    },\n\n    email: {\n      type: String,\n      default: '',\n    },\n\n    role: {\n      type: Number,\n      default: null,\n    },\n\n    groupId: {\n      type: Number,\n      default: null,\n    },\n  },\n\n  emits: ['submit', 'update:username', 'update:email', 'update:role', 'update:groupId'],\n\n  computed: {\n    ...mapSyncProps(['username', 'email', 'role', 'groupId']),\n  },\n\n  methods: {\n    onSubmit() {\n      this.$emit('submit');\n    },\n  },\n};\n","import { render } from \"./index.vue?vue&type=template&id=61e61a16\"\nimport script from \"./index.js?vue&type=script&lang=js\"\nexport * from \"./index.js?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <DataTable\n    :title=\"title\"\n    :items=\"users\"\n    :pending=\"pending\"\n    :page=\"page\"\n    :perPage=\"perPage\"\n    :totalCount=\"totalCount\"\n    @rowSelect=\"onRowSelect\"\n  >\n    <template #empty>\n      <div class=\"p-text-center\">\n        Пользователи не найдены\n      </div>\n    </template>\n\n    <Column\n      field=\"id\"\n      header=\"#\"\n    />\n\n    <Column\n      field=\"username\"\n      header=\"Имя пользователя\"\n    />\n\n    <Column\n      field=\"email\"\n      header=\"E-mail\"\n    />\n\n    <Column\n      field=\"role\"\n      header=\"Роль\"\n      headerClass=\"p-text-center\"\n      bodyClass=\"p-text-center\"\n    >\n      <template #body=\"{ data: { role } }\">\n        <RoleView :value=\"role\"/>\n      </template>\n    </Column>\n\n    <Column\n      field=\"group\"\n      header=\"Отдел\"\n      headerClass=\"p-text-center\"\n      bodyClass=\"p-text-center\"\n    >\n      <template #body=\"{ data: { group } }\">\n        <GroupView\n          v-if=\"group\"\n          :group=\"group\"\n        />\n\n        <span v-else>\n          Не выбран\n        </span>\n      </template>\n    </Column>\n  </DataTable>\n</template>\n\n<script src=\"./index.js\"></script>\n","import Column from 'primevue/column';\n\nimport DataTable from '@/components/table';\nimport RoleView from '@/components/role/view';\nimport GroupView from '@/components/group/view';\n\nexport default {\n  Column,\n  DataTable,\n  RoleView,\n  GroupView,\n};\n","import components from './components';\n\nexport default {\n  name: 'UsersTable',\n\n  components,\n\n  props: {\n    title: {\n      type: String,\n      default: 'Задачи',\n    },\n\n    users: {\n      type: Array,\n      default: () => [],\n    },\n\n    pending: {\n      type: Boolean,\n      default: false,\n    },\n\n    page: {\n      type: Number,\n      default: 1,\n    },\n\n    perPage: {\n      type: Number,\n      default: 20,\n    },\n\n    totalCount: {\n      type: Number,\n      default: 0,\n    },\n  },\n\n  methods: {\n    onRowSelect(user) {\n      this.$router.push(`/user/${user.id}/profile`);\n    },\n  },\n};\n","import { render } from \"./index.vue?vue&type=template&id=42184e07\"\nimport script from \"./index.js?vue&type=script&lang=js\"\nexport * from \"./index.js?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import flatry from 'flatry';\n\nimport UserFilter from '@/components/user/filter';\nimport UsersTable from '@/components/user/table';\n\nimport { getUsers } from '@/api/user';\n\nexport default {\n  name: 'GroupUsersPage',\n\n  components: {\n    UserFilter,\n    UsersTable,\n  },\n\n  props: {\n    group: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      pending: true,\n\n      users: [],\n      meta: null,\n\n      filter: {\n        username: '',\n        email: '',\n        role: null,\n        groupId: null,\n      },\n    };\n  },\n\n  watch: {\n    group: {\n      async handler(newVal) {\n        const { id } = newVal;\n\n        this.filter.groupId = id;\n\n        await this.loadUsers();\n      },\n      immediate: true,\n    },\n  },\n\n  methods: {\n    onFilter() {\n      this.loadUsers();\n    },\n\n    onChangePage(event) {\n      this.loadUsers(event.page + 1, event.rows);\n    },\n\n    async loadUsers(page = 1, perPage = 20) {\n      const query = {\n        ...this.filter,\n        page,\n        perPage,\n      };\n\n      this.pending = true;\n      const [err, { items, meta = null } = {}] = await flatry(getUsers(this.$axios, query));\n\n      if (err) {\n        this.$toast.add({\n          severity: 'error',\n          summary: err.serverError || 'Ошибка загрузки пользователей',\n          life: 5000,\n        });\n        this.pending = false;\n        return;\n      }\n\n      this.users = items;\n      this.meta = meta;\n      this.pending = false;\n    },\n  },\n};\n","import { render } from \"./index.vue?vue&type=template&id=510d1d4e\"\nimport script from \"./index.js?vue&type=script&lang=js\"\nexport * from \"./index.js?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"group-page p-grid p-mx-0\">\n    <div class=\"p-col-12 p-md-4 p-xl-2 p-offset-0 p-xl-offset-2\">\n      <Card>\n        <template #title>\n          <div class=\"p-d-flex p-ai-center\">\n            <span class=\"p-mr-2\">\n              Информация\n            </span>\n\n            <Button\n              v-if=\"isDirector || isAdmin\"\n              icon=\"pi pi-cog\"\n              class=\"p-button-secondary p-button-sm p-button-text p-button-rounded p-ml-auto\"\n              @click=\"toggleEdit\"\n            />\n          </div>\n        </template>\n\n        <template #content>\n          <SkeletonHelper :pending=\"pending\">\n            <form\n              v-show=\"isEdit\"\n              @submit.prevent=\"onSubmit\"\n            >\n              <div class=\"p-inputgroup\">\n                <InputText\n                  v-model=\"form.name\"\n                  placeholder=\"Название\"\n                />\n\n                <Button\n                  icon=\"pi pi-search\"\n                  type=\"submit\"\n                />\n              </div>\n            </form>\n\n            <span v-show=\"!isEdit\">\n              Название: {{ group.name }}\n            </span>\n          </SkeletonHelper>\n        </template>\n      </Card>\n    </div>\n\n    <div class=\"group-page__center p-col-12 p-md-8 p-xl-6\">\n      <Menubar\n        :model=\"toolbarItems\"\n        class=\"p-mb-3\"\n      />\n\n      <div class=\"group-page__center__content\">\n        <SpinnerHelper\n          :pending=\"pending\"\n          class=\"p-mx-auto p-mt-6\"\n        >\n          <router-view\n            :group=\"group\"\n            :pending=\"pending\"\n            v-slot=\"{ Component }\"\n          >\n            <keep-alive max=\"2\">\n              <component\n                :is=\"Component\"\n                :key=\"$route.fullPath\"\n              />\n            </keep-alive>\n          </router-view>\n        </SpinnerHelper>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script src=\"./index.js\"></script>\n\n<style\n  src=\"./index.styl\"\n  lang=\"stylus\"\n  scoped\n></style>\n","import Card from 'primevue/card';\nimport Divider from 'primevue/divider';\nimport Menubar from 'primevue/menubar';\nimport Button from 'primevue/button';\nimport InputText from 'primevue/inputtext';\n\nimport SkeletonHelper from '@/components/skeleton-helper';\nimport SpinnerHelper from '@/components/spinner-helper';\n\nexport default {\n  Card,\n  Divider,\n  Menubar,\n  Button,\n  InputText,\n  SkeletonHelper,\n  SpinnerHelper,\n};\n","import flatry from 'flatry';\nimport { mapGetters } from 'vuex';\n\nimport { axiosInstance } from '@/plugins/axios';\nimport { getGroup, updateGroup } from '@/api/group';\n\nimport components from './components';\n\nexport default {\n  name: 'GroupPage',\n\n  components,\n\n  props: {\n    id: {\n      type: Number,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      group: null, // Async\n      pending: true,\n\n      isEdit: false,\n      form: {\n        name: '',\n      },\n    };\n  },\n\n  computed: {\n    ...mapGetters('user', ['isDirector', 'isAdmin']),\n\n    toolbarItems() {\n      const { id } = this;\n\n      return [\n        {\n          label: 'Задачи',\n          icon: 'pi pi-list',\n          to: `/group/${id}/tasks`,\n        },\n        {\n          label: 'Участники',\n          icon: 'pi pi-users',\n          to: `/group/${id}/users`,\n        },\n      ];\n    },\n  },\n\n  watch: {\n    group: {\n      handler() {\n        this.resetForm();\n        this.isEdit = false;\n      },\n      immediate: true,\n    },\n\n    isEdit(newVal) {\n      if (!newVal) {\n        this.resetForm();\n      }\n    },\n  },\n\n  methods: {\n    toggleEdit() {\n      this.isEdit = !this.isEdit;\n    },\n\n    resetForm() {\n      this.form.name = this.group\n        ? this.group.name\n        : '';\n    },\n\n    async onSubmit() {\n      const [err, group] = await flatry(updateGroup(this.$axios, this.id, this.form));\n\n      if (err) {\n        this.$toast.add({\n          severity: 'error',\n          summary: err.serverError || 'Ошибка обновления информации об отделе',\n          life: 5000,\n        });\n        return;\n      }\n\n      this.group = group;\n    },\n  },\n\n  async beforeRouteEnter(to, from, next) {\n    const { id } = to.params;\n\n    const [err, group] = await flatry(getGroup(axiosInstance, id));\n\n    if (err) {\n      console.error(err);\n      return next(false);\n    }\n\n    next((vm) => {\n      // eslint-disable-next-line no-param-reassign\n      vm.group = group;\n      // eslint-disable-next-line no-param-reassign\n      vm.pending = false;\n    });\n  },\n\n  async beforeRouteUpdate(to, from, next) {\n    const { id } = to.params;\n\n    if (id === from.params.id) return next();\n\n    this.pending = true;\n    const [err, group] = await flatry(getGroup(axiosInstance, id));\n    this.pending = false;\n\n    if (err) {\n      console.error(err);\n      next(false);\n    } else {\n      this.group = group;\n      next();\n    }\n  },\n};\n","import { render } from \"./index.vue?vue&type=template&id=22582550&scoped=true\"\nimport script from \"./index.js?vue&type=script&lang=js\"\nexport * from \"./index.js?vue&type=script&lang=js\"\n\nimport \"./index.styl?vue&type=style&index=0&id=22582550&lang=stylus&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-22582550\"\n\nexport default script","<template>\n  <div>\n    <TaskFilter\n      v-model:title=\"filter.title\"\n      v-model:status=\"filter.status\"\n      v-model:userId=\"filter.userId\"\n      :pending=\"pending\"\n      :groupId=\"filter.groupId\"\n      hideGroup\n      @submit=\"onFilter\"\n    />\n\n    <TaskTable\n      title=\"Задачи отдела\"\n      :tasks=\"tasks\"\n      :pending=\"pending\"\n      :page=\"meta && meta.page\"\n      :perPage=\"meta && meta.perPage\"\n      :totalCount=\"meta && meta.totalCount\"\n      class=\"p-mt-3\"\n      @page=\"onChangePage\"\n    />\n  </div>\n</template>\n\n<script src=\"./index.js\"></script>\n","import flatry from 'flatry';\n\nimport TaskFilter from '@/components/task/filter';\nimport TaskTable from '@/components/task/table';\n\nimport { getTasks } from '@/api/task';\n\nexport default {\n  name: 'GroupTasksPage',\n\n  components: {\n    TaskFilter,\n    TaskTable,\n  },\n\n  props: {\n    group: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      pending: true,\n\n      tasks: [],\n      meta: null,\n\n      filter: {\n        title: '',\n        status: null,\n        userId: null,\n        groupId: null,\n      },\n    };\n  },\n\n  watch: {\n    group: {\n      async handler(newVal) {\n        const { id } = newVal;\n\n        this.filter.groupId = id;\n        this.filter.userId = null;\n\n        await this.loadTasks();\n      },\n      immediate: true,\n    },\n  },\n\n  methods: {\n    onFilter() {\n      this.loadTasks();\n    },\n\n    onChangePage(event) {\n      this.loadTasks(event.page + 1, event.rows);\n    },\n\n    async loadTasks(page = 1, perPage = 20) {\n      const query = {\n        ...this.filter,\n        page,\n        perPage,\n      };\n\n      this.pending = true;\n      const [err, { items, meta = null } = {}] = await flatry(getTasks(this.$axios, query));\n\n      if (err) {\n        this.$toast.add({\n          severity: 'error',\n          summary: err.serverError || 'Ошибка загрузки задач',\n          life: 5000,\n        });\n        this.pending = false;\n        return;\n      }\n\n      this.tasks = items;\n      this.meta = meta;\n      this.pending = false;\n    },\n  },\n};\n","import { render } from \"./index.vue?vue&type=template&id=12c336ea\"\nimport script from \"./index.js?vue&type=script&lang=js\"\nexport * from \"./index.js?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!./index.styl?vue&type=style&index=0&id=22582550&lang=stylus&scoped=true\""],"sourceRoot":""}